define(["Util"],function(t){function e(e){e=t.deepCopy(e,t.deepCopy(i)),this.cur_index=0,this.module=null,this.titles=null,this.banners=null,this.animateTimer=null,this.step=e.step||8,this.isAnimateSwitch=e.isAnimateSwitch,this.width=190,this.init(e)}var i={isAnimateSwitch:!0};return e.prototype.init=function(e){var i=this.module=t.$(e.className)[0];this.titles=t.$("tab_title",i)[0].getElementsByTagName("a"),this.content_wrap=t.$("tab_content",i)[0].getElementsByTagName("div")[0],this.initUI(),this.initEvent()},e.prototype.initUI=function(){for(var e=0;e<this.titles.length;e++)t.removeClass(this.titles[e],"active");t.addClass(this.titles[this.cur_index],"active")},e.prototype.initEvent=function(){for(var t=this,e=this.titles,i=0;i<e.length;i++)e[i].index=i,e[i].onmouseover=function(){t.changeTitle(this.index),t.isAnimateSwitch?t.animate(this.index):t.content_wrap.style.left=-this.index*t.width+"px"}},e.prototype.changeTitle=function(e){e!=this.cur_index&&(t.addClass(this.titles[e],"active"),t.removeClass(this.titles[this.cur_index],"active"),this.cur_index=e)},e.prototype.animate=function(t){var e=-t*this.width;clearInterval(this.animateTimer);var i=this,n=this.content_wrap;this.animateTimer=setInterval(function(){var t=(e-n.offsetLeft)/i.step;t=t>0?Math.ceil(t):Math.floor(t),n.offsetLeft!=e?n.style.left=n.offsetLeft+t+"px":clearInterval(i.animateTimer)},10)},e.initModules=function(){for(var t=["module_plane_ticket","module_hotel","module_game"],i=0;i<t.length;i++)new e({className:t[i]});new e({className:"module_telephone_fare",isAnimateSwitch:!1})},e});