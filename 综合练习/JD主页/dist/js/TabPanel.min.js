define(["Util"],function(t){function e(t){this.cur_index=0,this.con=null,this.titles=null,this.banners=null,this.line=null,this.animateTimer=null,this.offsetIndexDic={},this.leftOffset=t.leftOffset,this.step=t.step||16,this.init(t)}return e.prototype.init=function(e){var i=this.con=t.$(e.className)[0];this.line=t.$("line",i)[0],this.titles=t.$("title",t.$("head",i)[0]),this.banners=t.$("baner",i),this.initUI(),this.initEvent()},e.prototype.changeBanner=function(e){var i=this.offsetIndexDic[e];i!=this.cur_index&&(t.removeClass(this.banners[i],"hide"),t.addClass(this.banners[this.cur_index],"hide"),this.cur_index=i)},e.prototype.initUI=function(){for(var e=0;e<this.banners.length;e++)e!=this.cur_index&&t.addClass(this.banners[e],"hide");t.removeClass(this.banners[this.cur_index],"hide"),this.line.style.left=this.titles[this.cur_index].offsetLeft+this.leftOffset+"px"},e.prototype.initEvent=function(){for(var t=this,e=this.titles,i=0;i<e.length;i++)this.offsetIndexDic[e[i].offsetLeft+this.leftOffset]=i,e[i].onmouseover=function(){t.animate(this.offsetLeft+t.leftOffset)}},e.prototype.animate=function(t){this.changeBanner(t),clearInterval(this.animateTimer);var e=this;this.animateTimer=setInterval(function(){var i=e.line,n=(t-i.offsetLeft)/e.step;n=n>0?Math.ceil(n):Math.floor(n),i.offsetLeft!=t?i.style.left=i.offsetLeft+n+"px":clearInterval(e.animateTimer)},10)},e});